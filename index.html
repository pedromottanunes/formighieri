<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formighieri • Enviar Documentação</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  
  <!-- Configurações de tema Tailwind -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            fgPrimary: '#363636',
            fgPrimaryLight: '#474747',
            fgSecondary: '#5a5a5a',
            fgLight: '#f6f6f6',
          },
          boxShadow: {
            subtle: '0 6px 20px rgba(54,54,54,0.15)',
          }
        }
      }
    }
  </script>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    * { box-sizing: border-box; }
    body { font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    .form-input { transition: all 0.2s ease; }
    .form-input:focus { box-shadow: 0 0 0 3px rgba(54,54,54,0.25); }
    .upload-area { transition: all 0.3s ease; }
    .upload-area:hover, .upload-area.drag-over {
      background-color: #f6f6f6;
      border-color: #474747;
    }
    /* ------ HEADER MODERNO ------ */
    .modern-header {
      background: rgba(255, 255, 255, 0.97);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(54, 54, 54, 0.15);
      padding: 25px 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      transition: all 0.4s ease;
      border: 1px solid rgba(54,54,54,0.13);
      margin-bottom: 32px;
    }
    .modern-header:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(54, 54, 54, 0.22);
    }
    .logo-container {
      display: flex;
      align-items: center;
      gap: 20px;
      z-index: 2;
      position: relative;
    }
    .logo {
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, #363636 0%, #474747 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px;
      box-shadow: 0 5px 15px rgba(54, 54, 54, 0.3);
      transition: all 0.3s ease;
    }
    .logo:hover { transform: scale(1.05) rotate(5deg); }
    .logo img {
      width: 100%;
      height: auto;
      filter: drop-shadow(0 2px 4px rgba(54,54,54,0.13));
    }
    .brand {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .brand-name {
      font-size: 2.2rem;
      font-weight: 800;
      letter-spacing: 2px;
      text-transform: uppercase;
      background: linear-gradient(to right, #363636, #474747);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 4px rgba(54, 54, 54, 0.10);
      position: relative;
    }
    .brand-name::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 3px;
      background: linear-gradient(to right, #363636, #474747);
      border-radius: 10px;
    }
    .tagline {
      margin-top: 12px;
      font-size: 1.1rem;
      font-weight: 500;
      color: #363636;
      letter-spacing: 1px;
      text-align: center;
    }
    .decor-circle {
      position: absolute;
      width: 150px;
      height: 150px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(90, 90, 90, 0.12) 0%, rgba(54, 54, 54, 0.15) 100%);
      top: -50px; left: -50px; z-index: 1;
    }
    .decor-circle:nth-child(2) {
      width: 100px; height: 100px; top: auto; left: auto; bottom: -30px; right: -30px;
      background: linear-gradient(135deg, rgba(90,90,90,0.17) 0%, rgba(54,54,54,0.22) 100%);
    }
    .decor-square {
      position: absolute;
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, rgba(90,90,90,0.07) 0%, rgba(54,54,54,0.10) 100%);
      transform: rotate(45deg);
      top: 50%; right: 20%; z-index: 1;
    }
    @media (max-width: 768px) {
      .modern-header {
        padding: 20px; flex-direction: column; text-align: center;
      }
      .logo-container { flex-direction: column; gap: 15px; }
      .brand-name { font-size: 1.8rem; }
      .tagline { font-size: 1rem; }
      .decor-square { display: none; }
    }
    @media (max-width: 480px) {
      .brand-name { font-size: 1.5rem; }
      .logo { width: 60px; height: 60px; }
    }
  </style>
</head>

<body class="min-h-screen bg-fgLight p-4 md:p-6 flex items-center justify-center">
  <!-- CONTAINER PRINCIPAL -->
  <div class="relative max-w-xl w-full mx-auto">
    <!-- HEADER MODERNO -->
    <header class="modern-header">
      <div class="decor-circle"></div>
      <div class="decor-circle"></div>
      <div class="decor-square"></div>
      <div class="logo-container">
        <div class="logo">
          <img src="https://www.dropbox.com/scl/fi/yk8fihzt3127wn79e3r73/logosemfundo.png?rlkey=df4omwj59owgtgg6esnpe603f&st=dbc8nwcd&dl=1" 
               alt="Logo Formighieri">
        </div>
        <div class="brand">
          <h1 class="brand-name">FORMIGHIERI</h1>
          <p class="tagline">PISOS & MÓVEIS SOB MEDIDA</p>
        </div>
      </div>
    </header>
    <!-- FIM HEADER -->

    <!-- CARD FORM -->
    <main class="bg-white rounded-xl shadow-subtle p-6 md:p-8">
      <form id="fgForm" class="space-y-8">
        <!-- DADOS DO CLIENTE -->
        <section class="space-y-5">
          <h2 class="flex items-center gap-2 text-lg font-semibold text-gray-800 pb-2 border-b border-gray-100">
            <i data-lucide="user" class="w-5 h-5 text-fgPrimary"></i>
            Dados do Cliente
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- Nome -->
            <div class="relative">
              <input type="text" id="nome" name="nome" placeholder="Nome completo" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="user" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- CPF/CNPJ -->
            <div class="relative">
              <input type="text" id="cpf_cnpj" name="cpf_cnpj" placeholder="CPF ou CNPJ" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="id-card" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- Endereço -->
            <div class="relative md:col-span-2">
              <input type="text" id="endereco" name="endereco" placeholder="Endereço" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="map" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- Cidade -->
            <div class="relative">
              <input type="text" id="cidade" name="cidade" placeholder="Cidade" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="map-pin" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- Estado -->
            <div class="relative">
              <input type="text" id="estado" name="estado" placeholder="Estado" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="globe" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- CEP -->
            <div class="relative">
              <input type="text" id="cep" name="cep" placeholder="CEP" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="mail" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- Telefone -->
            <div class="relative">
              <input type="tel" id="telefone" name="telefone" placeholder="Telefone" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="phone" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <!-- Email -->
            <div class="relative md:col-span-2">
              <input type="email" id="email" name="email" placeholder="E‑mail" required 
                     class="form-input w-full h-10 pl-10 pr-4 border border-gray-200 rounded-lg font-medium text-gray-700 focus:border-fgPrimaryLight focus:outline-none" />
              <i data-lucide="at-sign" class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
          </div>
        </section>

        <!-- UPLOAD XML -->
        <section class="space-y-3">
          <h2 class="flex items-center gap-2 text-lg font-semibold text-gray-800">
            <i data-lucide="file-code" class="w-5 h-5 text-fgPrimary"></i>
            Arquivo XML
          </h2>
          <input type="file" id="xml_file" name="xml_file" accept=".xml" required class="hidden" />
          <div id="xmlDrop" class="upload-area flex flex-col items-center justify-center py-4 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer text-gray-500">
            <i data-lucide="file" class="w-5 h-5 mb-2 text-fgPrimary"></i>
            <span id="xmlPrompt" class="text-sm">Clique ou arraste o XML aqui</span>
          </div>
        </section>

        <!-- UPLOAD PDFs -->
        <section class="space-y-3">
          <h2 class="flex items-center gap-2 text-lg font-semibold text-gray-800">
            <i data-lucide="file-text" class="w-5 h-5 text-fgPrimary"></i>
            PDF(s) do Projeto
          </h2>
          <input type="file" id="pdf_files" name="pdf_files" accept="application/pdf" multiple required class="hidden" />
          <div id="pdfDrop" class="upload-area flex flex-col items-center justify-center py-4 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer text-gray-500">
            <i data-lucide="file" class="w-5 h-5 mb-2 text-fgPrimary"></i>
            <span id="pdfPrompt" class="text-sm">Clique ou arraste os PDFs aqui</span>
          </div>
          <ul id="pdfList" class="mt-2 space-y-1 text-sm text-gray-600"></ul>
        </section>

        <!-- SUBMIT -->
        <div class="pt-2">
          <button type="submit" id="btnSubmit" class="w-full h-11 bg-gradient-to-r from-fgPrimary to-fgPrimaryLight text-white font-semibold rounded-lg flex items-center justify-center gap-2 hover:shadow-subtle transition">
            <i data-lucide="send" class="w-4 h-4"></i>
            Enviar Documentação
          </button>
          <div id="msg" class="text-center text-sm mt-3"></div>
        </div>
      </form>
    </main>

    <!-- FOOTER -->
    <footer class="text-center mt-8 text-gray-500 text-sm">
      © 2025 Formighieri Pisos & Móveis • fulljob.com.br
    </footer>
  </div>

  <!-- SCRIPTS PRINCIPAIS -->
  <script>
    // Efeito sutil de flutuação na logo
    document.addEventListener('DOMContentLoaded', function() {
      const logo = document.querySelector('.logo');
      function floatEffect() {
        if(logo){
          const time = Date.now() * 0.001;
          const y = Math.sin(time) * 3;
          logo.style.transform = `translateY(${y}px)`;
        }
        requestAnimationFrame(floatEffect);
      }
      floatEffect();
    });

    // Inicializar ícones
    lucide.createIcons();
    const CONFIG = {
      WEBHOOK_URL: 'https://hook.us2.make.com/zsto5jdep8arsb9k47q0iy1ivxcwrpxq',
      MAX_XML_SIZE: 5 * 1024 * 1024,
      MAX_PDF_SIZE: 20 * 1024 * 1024,
    };

    // Utils
    const msg = document.getElementById('msg');
    const showMsg = (t, ok = true) => {
      msg.textContent = t;
      msg.class
