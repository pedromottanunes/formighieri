<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formighieri • Enviar Documentação</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

  <!-- Tailwind runtime tweaks -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            fgPrimary: '#d4af37',      // dourado principal
            fgPrimaryLight: '#e9c96e', // dourado claro (hover / focus)
            fgDark: '#3b3b3b',         // fundo escuro do topo
          }
        }
      }
    }
  </script>
</head>

<body class="min-h-screen bg-gray-100 text-slate-800">
  <!-- HEADER ESCURO COM LOGO -->
  <header class="bg-fgDark py-4">
    <div class="max-w-4xl mx-auto px-4 flex items-center gap-4">
      <img src="logo_formighieri.png" alt="Formighieri Logo" class="h-10 w-auto" />
      <span class="text-white text-lg font-semibold tracking-wide">FORMIGHIERI</span>
    </div>
  </header>

  <!-- CONTAINER PRINCIPAL -->
  <main class="max-w-4xl mx-auto px-4 md:px-6 py-10">
    <form id="fgForm" class="bg-white shadow-lg rounded-2xl p-6 md:p-8 space-y-10">
      <!-- TÍTULO -->
      <h1 class="text-2xl font-bold text-center">Enviar XML &amp; PDF(s) do Projeto</h1>

      <!-- DADOS DO CLIENTE -->
      <section class="space-y-6">
        <h2 class="flex items-center gap-2 text-xl font-semibold"><i data-lucide="user" class="w-5 h-5 text-fgPrimary"></i>Dados do Cliente</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="relative">
            <input type="text" id="nome" name="nome" placeholder="Nome completo" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="user" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative">
            <input type="text" id="cpf_cnpj" name="cpf_cnpj" placeholder="CPF ou CNPJ" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="id-card" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative md:col-span-2">
            <input type="text" id="endereco" name="endereco" placeholder="Endereço" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="map" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative">
            <input type="text" id="cidade" name="cidade" placeholder="Cidade" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="map-pin" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative">
            <input type="text" id="estado" name="estado" placeholder="Estado" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="globe" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative">
            <input type="text" id="cep" name="cep" placeholder="CEP" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="mail" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative">
            <input type="tel" id="telefone" name="telefone" placeholder="Telefone" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="phone" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
          <div class="relative md:col-span-2">
            <input type="email" id="email" name="email" placeholder="E‑mail" required class="peer block w-full h-12 rounded-lg border border-slate-300 pl-11 pr-3 font-medium focus:outline-none focus:border-fgPrimary focus:ring-2 focus:ring-fgPrimary/30" />
            <i data-lucide="at-sign" class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"></i>
          </div>
        </div>
      </section>

      <!-- XML UPLOAD -->
      <section class="space-y-4">
        <h2 class="flex items-center gap-2 text-xl font-semibold"><i data-lucide="file-code" class="w-5 h-5 text-fgPrimary"></i>Arquivo XML</h2>
        <input type="file" id="xml_file" name="xml_file" accept=".xml" required class="hidden" />
        <div id="xmlDrop" class="flex flex-col items-center justify-center h-24 md:h-28 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer text-slate-500 hover:border-fgPrimary transition">
          <i data-lucide="upload" class="w-6 h-6 mb-1"></i>
          <span id="xmlPrompt" class="text-sm">Clique ou arraste o XML aqui</span>
        </div>
      </section>

      <!-- PDF UPLOAD -->
      <section class="space-y-4">
        <h2 class="flex items-center gap-2 text-xl font-semibold"><i data-lucide="file-text" class="w-5 h-5 text-fgPrimary"></i>PDF(s) do Projeto</h2>
        <input type="file" id="pdf_files" name="pdf_files" accept="application/pdf" multiple required class="hidden" />
        <div id="pdfDrop" class="flex flex-col items-center justify-center h-24 md:h-28 border-2 border-dashed border-slate-300 rounded-lg cursor-pointer text-slate-500 hover:border-fgPrimary transition">
          <i data-lucide="upload" class="w-6 h-6 mb-1"></i>
          <span id="pdfPrompt" class="text-sm">Clique ou arraste PDF(s) aqui</span>
        </div>
        <ul id="pdfList" class="space-y-1 text-sm text-slate-600"></ul>
      </section>

      <!-- SUBMIT -->
      <div>
        <button type="submit" id="btnSubmit" class="w-full h-12 bg-fgPrimary text-white font-bold rounded-lg flex items-center justify-center gap-2 hover:bg-fgPrimaryLight transition">
          <i data-lucide="send" class="w-5 h-5"></i>
          Enviar Documentação
        </button>
        <div id="msg" class="text-center text-sm mt-4"></div>
      </div>
    </form>
  </main>

  <!-- FOOTER -->
  <footer class="text-center py-6 text-slate-500 text-sm bg-transparent">© 2025 Formighieri • fulljob.com.br</footer>

  <!-- SCRIPT PRINCIPAL -->
  <script>
    const CONFIG = {
      WEBHOOK_URL: 'https://hook.us2.make.com/zsto5jdep8arsb9k47q0iy1ivxcwrpxq',
      MAX_XML_SIZE: 5 * 1024 * 1024,
      MAX_PDF_SIZE: 20 * 1024 * 1024,
    };

    // Utils
    const msg = document.getElementById('msg');
    const showMsg = (t, ok = true) => {
      msg.textContent = t;
      msg.className = `text-sm mt-4 p-2 rounded-md ${ok ? 'text-green-700 bg-green-100 border border-green-300' : 'text-red-700 bg-red-100 border border-red-300'}`;
    };
    const clearMsg = () => { msg.textContent = ''; msg.className = ''; };

    // XML handling
    const xmlInput = document.getElementById('xml_file');
    const xmlDrop = document.getElementById('xmlDrop');
    const xmlPrompt = document.getElementById
